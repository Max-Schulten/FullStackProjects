<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"
        crossorigin="anonymous" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="well">Fill out the form and click the submit button when complete.</div>
            </div>

        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        User:
                    </div>
                    <div class="panel-body">
                        <form id="User">
                            <div class="form-group">
                                <div class="form-group" id="parent">
                                    <label class="control-label">Username:</label>
                                    <label class="hidden" for="usrname">Username</label>
                                    <input type="text" class="form-control" id="usrname" placeholder="Type username..."
                                        required>
                                </div>
                                <div class="form-group">
                                    <label class="control-label" >First Name:</label>
                                    <label class="hidden" for="firstname">First Name</label>
                                    <input type="text" class="form-control" id="firstname"
                                        placeholder="Type first name..." required>
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Last Name:</label>
                                    <label class="hidden" for="lastname">Last Name</label>
                                    <input type="text" class="form-control" id="lastname"
                                        placeholder="Type last name..." required>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Contact:
                    </div>
                    <div class="panel-body">
                        <form id="contact">
                            <div class="input-group">
                                <label for="phone" class="hidden">Phone Number</label>
                                <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                <input id="phone" type="tel" class="form-control" placeholder="Type phone#..." required>
                            </div>
                            <div class="input-group">
                                <label for="fax" class="hidden">Fax Number</label>
                                <span class="input-group-addon"><i class="glyphicon glyphicon-print"></i></span>
                                <input id="fax" type="text" class="form-control" placeholder="Type fax#..." required>
                            </div>
                            <div class="input-group">
                                <label for="email" class="hidden">E-mail</label>
                                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                <input id="email" type="email" class="form-control" placeholder="Type e-mail..."
                                    required>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Schedule
                    </div>
                    <div class="panel-body">
                        <form id="schedule">
                            <div class="col-sm-12">
                                <label for="adults">Adults:</label>
                                <select class="form-control" id=adults>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                </select>
                            </div>
                            <div class="col-sm-6">
                                <label for="checkin">Check-In:</label>
                                <div id="checkin" class="input-group date" data-date-format="mm-dd-yyyy">
                                    <input class="form-control" type="text" placeholder="mm-dd-yyyy" required>
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-calendar"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label for="checkout">Check-Out:</label>
                                <div id="checkout" class="input-group date" data-date-format="mm-dd-yyyy">
                                    <input class="form-control" type="text" placeholder="mm-dd-yyyy" required>
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-calendar"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label for="days">Days:</label>
                                <input id="days" type="text" class="form-control" placeholder="Displays days..."
                                    readonly>
                            </div>
                            <div class="col-sm-6">
                                <label for="cost">Cost($):</label>
                                <input id="cost" type="text" class="form-control" placeholder="Displays cost..."
                                    readonly>
                            </div>
                        </form>
                    </div>
                </div>

            </div>

            <div class="col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">Other:</div>
                    <div class="panel-body">
                        <form id=other>
                            <div class="form-group">
                                <label for="msg">Message:</label>
                                <textarea class="form-control" id="msg" rows="20"
                                    placeholder="Type message here..."></textarea>
                            </div>
                            <div class="form-group">
                                <label>Range:</label>
                                <input class="form-range" type="range" id="range" min="0" max="100" step="10">
                            </div>
                            <label for="pr">Priority:</label> <br>
                            <label id="prlow" class="radio-inline">
                                <input type="radio" name="optradio" checked>Low
                            </label>
                            <label id="prmed" class="radio-inline">
                                <input type="radio" name="optradio">Med
                            </label>
                            <label id="prhi" class="radio-inline">
                                <input type="radio" name="optradio">High
                            </label>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-sm-6">
                &nbsp;
                </div>
            <div class="col-sm-3">
                <button type="button" id="reset" class="btn btn-primary btn-block"><i class="glyphicon glyphicon-erase"></i>&nbsp;
                    Reset</button>
            </div>
            <div class="col-sm-3">

                <button type="button" id="submit" class="btn btn-success btn-block"><i class="glyphicon glyphicon-send"></i>&nbsp;
                    Submit</button>
                </div>
        </div>
    </div>
</body>

</html>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js">
</script>

<script>
    $(function () {
        $("#checkin").datepicker({
            autoclose: true,
            todayHighlight: true,
            todayBtn: "linked",
        }).datepicker('update', new Date());
    });
    $(function () {
        $("#checkout").datepicker({
            autoclose: true,
            todayHighlight: true,
            todayBtn: "linked",
        }).datepicker('update', new Date());
    });
</script>

<!--All Jquery-->
<script>
    var today = new Date()
    function checkForm(ids) {
        let bool = true;
        ids.forEach((id) => {
            let temp = "#" + id
            $(temp).parent().removeClass("has-error");
            $(temp).parent().removeClass("has-success");
            if ($(temp).val() == '') {
            toastr.error("Invalid input in " + $("label[for=" + '\"' + id + '\"' + "]").text()+".");
            $(temp).parent().addClass("has-error");
            bool = false;
            } else {
            $(temp).parent().addClass("has-success");
        }
        })
        return bool;
    }

    function resetForm() {
        $("form").trigger("reset");
        $(".form-group").removeClass("has-error");
        $(".form-group").removeClass("has-success");
        $(".input-group").removeClass("has-success");
        $(".input-group").removeClass("has-error");
    }

    function dateChange() {
        let indate = moment($('#checkin').data('datepicker').getFormattedDate('yyyy-mm-dd'))
        let outdate = moment($('#checkout').data('datepicker').getFormattedDate('yyyy-mm-dd'))
        let days = outdate.diff(indate, 'days')
        let cost = days * 150 * $("#adults").val()
        $("#cost").val("$" + cost)
        $("#days").val(days)
    }

    $(document).ready(function () {
        dateChange();
        resetForm();
        $('#submit').click(function () {
            let indate = moment($('#checkin').data('datepicker').getFormattedDate('yyyy-mm-dd'))
            let outdate = moment($('#checkout').data('datepicker').getFormattedDate('yyyy-mm-dd'))
            let days = outdate.diff(indate, 'days')
            let cost = days * 150 * $("#adults").val()
            if(checkForm(["email", "phone", "fax", "firstname", "usrname", "lastname"]) && cost > 0 ) {
                toastr.success("Form submitted succesfully!")
                resetForm();
            } else if(cost<=0) {
                toastr.error("Cost cannot be negative or zero!")
            }
        });
        $('#reset').click(function () {
            resetForm()
            toastr.info("Form Reset...");
        });
        $('.date').change(dateChange);
        $('#adults').change(dateChange)
    });
</script>
